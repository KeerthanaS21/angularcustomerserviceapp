<div class="card card-container mycontainer">
    <div><h2>Register</h2></div>
    <form *ngIf="!isSuccessful" name="form" (ngSubmit)="f.form.valid && onSubmitRegister()" #f="ngForm" validate>
        <div class="form-group">
            <label for="userName">User Name</label>
            <input type="text" class="form-control" name="username" [(ngModel)]="registerUser.userName"
                required minlength="3" maxlength="20" #username="ngModel" placeholder="Please enter user name"/>
            <div class="alert-danger" *ngIf="f.submitted && username.invalid">
                <div *ngIf="username.errors?.['required']">Username is required</div>
                <div *ngIf="username.errors?.['minlength']">
                    Username must be at least 3 characters
                </div>
                <div *ngIf="username.errors?.['maxlength']">
                    Username must be at most 20 characters
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" class="form-control" name="email" [(ngModel)]="registerUser.userEmail"
              required email #email="ngModel" placeholder="Please enter email address" />
            <div class="alert-danger" *ngIf="f.submitted && email.invalid">
              <div *ngIf="email.errors?.['required']">Email is required</div>
              <div *ngIf="email.errors?.['email']">
                Email must be a valid email address
              </div>
            </div>
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <input type="password" class="form-control" name="password" [(ngModel)]="registerUser.userPassword"
              required minlength="6" #password="ngModel" placeholder="Please enter password"/>
            <div class="alert-danger" *ngIf="f.submitted && password.invalid">
              <div *ngIf="password.errors?.['required']">Password is required</div>
              <div *ngIf="password.errors?.['minlength']">
                Password must be at least 6 characters
              </div>
            </div>
        </div>
        <div class="form-group" *ngIf="isAdmin">
            <label for="userRole">User Role</label>
            <select class="form-control" name="userrole" [(ngModel)]="userRole" required>
            <option value="admin">Admin</option>
            <option value="customer">Customer</option>
            </select>            
        </div>
        <div class="form-group">
            <!-- <button class="btn btn-primary btn-block" (click)="onSubmitRegister()">Sign Up</button> -->
            <input type="submit" class="form-control btn btn-primary btn-block" value="Submit">
        </div>
        <div class="alert alert-warning" *ngIf="f.submitted && isRegistrationFailed">
            Registration failed!<br />{{ errorMessage }}
        </div>
    </form>
    <div class="alert alert-success" *ngIf="isSuccessful">
        Your registration is successful!
    </div>
</div>